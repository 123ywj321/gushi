// 5000km下的最美中国——318公路游览数据
// 使用GCJ02坐标系（中国标准坐标系）

const G318_ROUTE_DATA = {
    // 318国道真实路线坐标点（从上海人民广场到拉萨友谊桥）
    routePoints: [
        [31.2304, 121.4737], // 上海人民广场（起点）
        [31.8640, 117.2808], // 合肥
        [31.7539, 117.2264], // 巢湖
        [30.9756, 117.3889], // 安庆
        [30.2267, 115.8342], // 九江
        [30.5928, 114.3055], // 武汉
        [30.3171, 112.2364], // 荆州
        [30.8235, 111.0077], // 宜昌
        [31.0181, 108.4000], // 恩施
        [29.5333, 106.5507], // 重庆
        [29.4090, 106.3861], // 璧山
        [29.7216, 105.8031], // 大足
        [30.1253, 105.4617], // 资阳
        [30.6413, 104.0758], // 成都
        [30.2467, 103.2531], // 邛崃
        [30.0139, 102.9639], // 雅安
        [30.0498, 102.2211], // 天全
        [29.9877, 102.0581], // 泸定
        [30.0571, 101.9638], // 康定
        [30.0571, 101.9638], // 新都桥
        [29.9986, 101.1331], // 雅江
        [30.0000, 100.2667], // 理塘
        [28.9267, 100.2333], // 巴塘
        [28.8564, 98.5842],  // 芒康
        [29.2256, 98.1714],  // 左贡
        [29.3965, 97.1780],  // 邦达
        [29.2167, 96.5833],  // 八宿
        [29.5312, 96.9057],  // 然乌
        [29.6311, 96.1269],  // 波密
        [29.6544, 94.3617],  // 林芝
        [29.4275, 93.0831],  // 工布江达
        [29.8361, 91.8639],  // 墨竹工卡
        [29.6544, 91.1175],  // 拉萨友谊桥（终点）
    ],
    
    // 沿线重要景点数据
    pointsOfInterest: [
        {
            id: 1,
            name: "上海外滩",
            type: "城市景观",
            coordinates: [31.2397, 121.4912],
            distance: "0km",
            description: "318国道的起点，黄浦江畔的万国建筑博览群，见证着中国近现代的历史变迁。",
            images: [
                "zhaopian/上海外滩/1.png",
                "zhaopian/上海外滩/2.png"
            ],
            tips: [
                "最佳观赏时间：傍晚时分",
                "建议游览时长：2-3小时",
                "交通：地铁2号线南京东路站"
            ],
            story: "在这里，318国道开启了它横贯中国的壮丽征程。从繁华的都市到雪域高原，一路向西，向着那片神秘的土地前行。"
        },
        {
            id: 2,
            name: "黄山",
            type: "自然风光",
            coordinates: [30.1394, 118.1671],
            distance: "458km",
            description: "五岳归来不看山，黄山归来不看岳。奇松、怪石、云海、温泉被誉为黄山四绝。",
            images: [
                "zhaopian/黄山/0ff86b8a-800d-4d81-8cf6-9800484ee9ae.png"
            ],
            tips: [
                "建议住山上看日出日落",
                "携带雨具，山区天气多变",
                "穿防滑鞋，注意安全"
            ],
            story: "黄山的云海翻腾，仿佛仙境一般。古人云'五岳归来不看山，黄山归来不看岳'，在这里你会真正理解这句话的含义。"
        },
        {
            id: 3,
            name: "三峡大坝",
            type: "人文景观",
            coordinates: [30.8235, 111.0077],
            distance: "1068km",
            description: "世界最大的水利枢纽工程，高峡出平湖的壮观景象令人震撼。",
            images: [
                "zhaopian/山峡大坝/a42b3745-d278-418e-81a8-5aa8567fe3ae.png"
            ],
            tips: [
                "需要提前预约参观",
                "携带身份证件",
                "观景台风大，注意保暖"
            ],
            story: "站在三峡大坝上，感受人类智慧与自然力量的完美结合。长江之水，在这里被驯服，化作万家灯火的光明。"
        },
        {
            id: 4,
            name: "武隆天生三桥",
            type: "自然奇观",
            coordinates: [29.2929, 107.7692],
            distance: "1380km",
            description: "大自然鬼斧神工的杰作，三座天然石拱桥如彩虹横跨天际。",
            images: [
                "zhaopian/武隆天生三桥/52869b1e-8a71-4223-957b-d1c80bfeaeb0.png"
            ],
            tips: [
                "穿舒适的运动鞋",
                "带好雨具，谷底较潮湿",
                "建议乘坐观光电梯下谷"
            ],
            story: "走进武隆天坑，仿佛进入了一个失落的世界。抬头望去，天生三桥如天神的作品，震撼人心。"
        },
        {
            id: 5,
            name: "成都宽窄巷子",
            type: "历史文化",
            coordinates: [30.6598, 104.0633],
            distance: "1648km",
            description: "成都现存较成规模的清朝古街道，体验老成都的慢生活。",
            images: [
                "zhaopian/成都宽窄巷子/5068e7dd-5b67-4370-aa17-41064c59fa89.png"
            ],
            tips: [
                "品尝地道川菜和小吃",
                "体验川剧变脸表演",
                "购买特色手工艺品"
            ],
            story: "在宽窄巷子的青石板路上漫步，感受成都人的悠闲生活。一壶茶，一局棋，时光在这里变得缓慢而美好。"
        },
        {
            id: 6,
            name: "海螺沟",
            type: "冰川奇观",
            coordinates: [29.5548, 101.9752],
            distance: "1888km",
            description: "低海拔现代冰川，可以近距离观赏冰川与森林共存的奇观。",
            images: [
                "zhaopian/海螺沟/1.png"
            ],
            tips: [
                "注意防寒保暖",
                "高原反应，量力而行",
                "最佳观赏期：10月-次年4月"
            ],
            story: "海螺沟的冰川如银色巨龙，从雪山之巅倾泻而下。在这里，你可以触摸到万年冰川的纯净与神秘。"
        },
        {
            id: 7,
            name: "新都桥",
            type: "摄影天堂",
            coordinates: [30.0571, 101.9638],
            distance: "2188km",
            description: "被誉为'摄影家的天堂'，金秋时节层林尽染，美不胜收。",
            images: [
                "zhaopian/新都桥/1.png"
            ],
            tips: [
                "最佳拍摄时间：早晨和傍晚",
                "10月中下旬色彩最丰富",
                "注意高原反应"
            ],
            story: "新都桥的秋天，如上帝打翻的调色盘。金黄的杨树、碧绿的草原、远山如黛，构成了最美的川西画卷。"
        },
        {
            id: 8,
            name: "稻城亚丁",
            type: "神山圣地",
            coordinates: [28.4270, 100.3590],
            distance: "2468km",
            description: "被誉为'最后的香格里拉'，三座神山守护着这片净土。",
            images: [
                "zhaopian/稻城亚丁/1.png"
            ],
            tips: [
                "高海拔地区，预防高反",
                "带足保暖衣物",
                "尊重当地宗教文化"
            ],
            story: "稻城亚丁，一个接近天堂的地方。仙乃日、央迈勇、夏诺多吉三座神山，如三尊菩萨静静守护着这片圣地。"
        },
        {
            id: 9,
            name: "然乌湖",
            type: "高原湖泊",
            coordinates: [29.5312, 96.9057],
            distance: "3288km",
            description: "西藏东部最大的湖泊，湖水如镜面般平静，倒映着雪山云彩。",
            images: [
                "zhaopian/然乌湖/1.png"
            ],
            tips: [
                "最佳观赏时间：早晨无风时",
                "湖边温差大，注意保暖",
                "可以环湖徒步"
            ],
            story: "然乌湖如一面巨大的镜子，完美地倒映着远山近树。站在湖边，时间仿佛静止，心灵得到了彻底的净化。"
        },
        {
            id: 10,
            name: "米堆冰川",
            type: "冰川景观",
            coordinates: [29.6311, 96.1269],
            distance: "3358km",
            description: "中国最美的冰川之一，冰舌直插原始森林，景色壮观。",
            images: [
                "zhaopian/米堆冰川/de65ffef-9a6a-45cb-a5cd-f4a0832c76d5.png"
            ],
            tips: [
                "徒步路径较陡，注意安全",
                "携带登山杖",
                "冰川区域禁止大声喧哗"
            ],
            story: "米堆冰川，一条从天而降的银色瀑布。冰川与森林的完美结合，展现了大自然最原始的美丽。"
        },
        {
            id: 11,
            name: "林芝桃花",
            type: "自然美景",
            coordinates: [29.6544, 94.3617],
            distance: "3488km",
            description: "西藏的江南，春天桃花盛开，雪山桃花相映成趣。",
            images: [
                "zhaopian/林芝桃花/bfa615b3-2e47-4ad1-a2fb-e1163d2735e0.png"
            ],
            tips: [
                "最佳观赏期：3月中旬-4月底",
                "嘎拉桃花村是最佳观赏点",
                "可以体验藏式民宿"
            ],
            story: "三月的林芝，桃花如雪花般飞舞。在雪山的映衬下，粉色的桃花显得格外娇艳，这就是西藏的春天。"
        },
        {
            id: 12,
            name: "布达拉宫",
            type: "文化遗产",
            coordinates: [29.6544, 91.1175],
            distance: "3648km",
            description: "318国道的终点，世界文化遗产，藏传佛教的圣地。",
            images: [
                "zhaopian/布达拉宫/ae296c8f-7143-42bc-b16e-9d6fc31852a7.png"
            ],
            tips: [
                "需要提前预约门票",
                "参观时间限制，合理安排",
                "宫内禁止拍照"
            ],
            story: "终于到达了318国道的终点——拉萨。布达拉宫如一座神山，矗立在红山之上，见证着无数朝圣者的虔诚与梦想。"
        },
        {
            id: 13,
            name: "张家界天门山",
            type: "自然奇观",
            coordinates: [29.0440, 110.4758],
            distance: "748km",
            description: "世界自然遗产，奇峰异石林立，被誉为'峰林之王'。",
            images: [
                "zhaopian/张家界天山门/82dccf68-d36d-4e52-8791-a1fc8a925696.png"
            ],
            tips: [
                "乘坐世界最长索道",
                "体验玻璃栈道的刺激",
                "避开旺季人潮"
            ],
            story: "张家界的石峰如画中仙境，天门洞开，云雾缭绕，这里是阿凡达的取景地，也是大自然最神奇的作品。"
        },
        {
            id: 14,
            name: "洞庭湖",
            type: "湖泊风光",
            coordinates: [29.3678, 112.9051],
            distance: "878km",
            description: "中国第二大淡水湖，'八百里洞庭'碧波万顷，风光无限。",
            images: [
                "zhaopian/洞庭湖/1.png"
            ],
            tips: [
                "最佳观赏期：春秋两季",
                "可乘船游湖观鸟",
                "品尝洞庭湖鲜鱼"
            ],
            story: "八百里洞庭，烟波浩渺。范仲淹的'先天下之忧而忧，后天下之乐而乐'，就是在这岳阳楼上写下的千古名句。"
        },
        {
            id: 15,
            name: "都江堰",
            type: "古代工程",
            coordinates: [31.0175, 103.6200],
            distance: "1568km",
            description: "世界文化遗产，2000多年前的伟大水利工程，至今仍在发挥作用。",
            images: [
                "zhaopian/都江堰/1902ce26-7443-4803-bbf0-72f54b7f5b47.png"
            ],
            tips: [
                "了解古代水利智慧",
                "参观二王庙",
                "体验熊猫基地"
            ],
            story: "李冰父子的智慧在这里流淌了两千多年，都江堰无坝引水，造就了天府之国的富饶，这是古代中国人与自然和谐共处的典范。"
        },
        {
            id: 16,
            name: "四姑娘山",
            type: "雪山圣境",
            coordinates: [31.1086, 102.8650],
            distance: "1758km",
            description: "蜀山皇后，四座美丽的山峰如四位姑娘亭亭玉立。",
            images: [
                "zhaopian/四姑娘山/03aca0c1-43c7-45a5-9faa-c75865742133.png"
            ],
            tips: [
                "适合登山和徒步",
                "秋季景色最美",
                "注意高原反应"
            ],
            story: "四姑娘山，蜀山皇后的美誉名不虚传。四座雪峰如四位美丽的姑娘，在蓝天白云下展现着圣洁的美丽。"
        },
        {
            id: 17,
            name: "折多山",
            type: "高山垭口",
            coordinates: [30.1667, 101.8667],
            distance: "2068km",
            description: "康巴第一关，海拔4298米，是进入康藏高原的第一道关卡。",
            images: [
                "zhaopian/折多山/1.png"
            ],
            tips: [
                "道路蜜弯较多，小心驾驶",
                "注意高原反应",
                "垭口风大，注意保暖"
            ],
            story: "折多山，康巴第一关。翻越这座山，就正式进入了康藏高原。山路十八弯，每一个弯都是对勇气和毅力的考验。"
        },
        {
            id: 18,
            name: "理塘",
            type: "高原古镇",
            coordinates: [30.0000, 100.2667],
            distance: "2318km",
            description: "世界高城，海拔4014米，仓央嘉措梦中的故乡。",
            images: [
                "zhaopian/理塘/1.png"
            ],
            tips: [
                "感受藏族文化",
                "参观长青春科尔寺",
                "品尝酥油茶和糌粑"
            ],
            story: "理塘，世界高城，仓央嘉措曾在诗中写道：'洁白的仙鹤，请借我一双翅膀，我不会飞得太远，理塘转一转就回。'"
        },
        {
            id: 19,
            name: "邦达草原",
            type: "高原草原",
            coordinates: [30.3900, 97.1780],
            distance: "3118km",
            description: "海拔4300米的高原草原，辽阔无垠，牛羊成群。",
            images: [
                "zhaopian/邦达草原/1.png"
            ],
            tips: [
                "观赏高原草原风光",
                "拍摄牛羊群",
                "体验藏族牧民生活"
            ],
            story: "邦达草原，天苍苍，野茫茫，风吹草低见牛羊。在这片高原草原上，感受着藏区牧民世世代代的生活方式。"
        },
        {
            id: 20,
            name: "怒江七十二拐",
            type: "公路奇观",
            coordinates: [30.1500, 96.9000],
            distance: "3208km",
            description: "318国道上最壮观的盘山公路，考验着每一位司机的技术。",
            images: [
                "zhaopian/怒江七十二拐/b3858dd3-bea4-4067-bcb9-a1ab1632ebf9.png"
            ],
            tips: [
                "小心驾驶，控制车速",
                "观景台拍照留念",
                "检查刹车系统"
            ],
            story: "怒江七十二拐，318国道上最著名的路段之一。从高处俯瞰，蜿蜒的公路如巨龙盘旋，壮观而震撼。"
        },
        {
            id: 21,
            name: "鲁朗林海",
            type: "原始森林",
            coordinates: [29.7667, 94.7333],
            distance: "3428km",
            description: "西藏的瑞士，原始森林与高山牧场的完美结合。",
            images: [
                "zhaopian/鲁朗林海/f9515980-2566-4e8d-9f9c-10d51db2d24b.png"
            ],
            tips: [
                "徒步森林小径",
                "观赏雪山森林景观",
                "品尝石锅鸡"
            ],
            story: "鲁朗林海，被誉为西藏的瑞士。茂密的原始森林，清澈的溪流，远处的雪山，构成了一幅绝美的高原画卷。"
        },
        {
            id: 22,
            name: "南迦巴瓦峰",
            type: "神山圣峰",
            coordinates: [29.6278, 95.0611],
            distance: "3458km",
            description: "中国最美山峰，海拔7782米，被誉为'云中的天堂'。",
            images: [
                "zhaopian/南迦巴瓦峰/8f16e2a6-9dab-4036-902c-b5f0074f1aa4.png"
            ],
            tips: [
                "最佳观赏点：色季拉山口",
                "云雾多，能见度影响观赏",
                "日照金山最为壮观"
            ],
            story: "南迦巴瓦峰，中国最美的山峰，藏语意为'雷电如火燃烧'。它常年云雾缭绕，很少露出真容，因此更加神秘莫测。"
        },
        {
            id: 23,
            name: "羊卓雍措",
            type: "圣湖美景",
            coordinates: [28.9364, 90.6839],
            distance: "3568km",
            description: "西藏三大圣湖之一，湖水如蓝宝石般纯净美丽。",
            images: [
                "zhaopian/羊卓雍错/d59a4457-881e-4356-9f08-133a28306693.png"
            ],
            tips: [
                "湖边紫外线强，注意防晒",
                "观赏不同时间的湖水色彩",
                "尊重当地宗教文化"
            ],
            story: "羊卓雍措，西藏人心中的圣湖。湖水在阳光下呈现出不同层次的蓝色，如天空遗落在人间的一滴眼泪，纯净而美丽。"
        },
        {
            id: 24,
            name: "纳木错",
            type: "天湖圣境",
            coordinates: [30.7188, 90.9980],
            distance: "3608km",
            description: "世界海拔最高的大型湖泊，藏语意为'天湖'，是朝圣者心中的圣地。",
            images: [
                "zhaopian/纳木错/0e8cbb8e-dce3-4f39-8567-2f981c003192.png"
            ],
            tips: [
                "海拔高，注意高原反应",
                "夜晚观星效果绝佳",
                "转湖朝圣需要充分准备"
            ],
            story: "纳木错，天湖，世界海拔最高的大型湖泊。在这里，你可以感受到最纯净的蓝色，仿佛能看到天堂的倒影。"
        }
    ]
};

// 318国道真实路线分段信息
const G318_SEGMENTS = [
    {
        name: "东段：上海-武汉",
        description: "从上海人民广场出发，穿越江苏、安徽，抵达长江中游重镇武汉",
        color: "#FF6B6B",
        distance: "1200km"
    },
    {
        name: "中段：武汉-成都", 
        description: "沿长江西行，经宜昌、恩施、重庆，进入天府之国成都",
        color: "#4ECDC4",
        distance: "1100km"
    },
    {
        name: "西段：成都-拉萨",
        description: "翻越二郎山、折多山等14座高山，跨越金沙江、澜沧江、怒江，到达世界屋脊拉萨",
        color: "#45B7D1",
        distance: "2100km"
    }
];

// 获取所有景点数据
function getAllPOIs() {
    return G318_ROUTE_DATA.pointsOfInterest;
}

// 根据ID获取景点
function getPOIById(id) {
    return G318_ROUTE_DATA.pointsOfInterest.find(poi => poi.id === id);
}

// 获取路线数据
function getRouteData() {
    return G318_ROUTE_DATA.routePoints;
}

// 获取路线分段信息
function getRouteSegments() {
    return G318_SEGMENTS;
}

// 搜索景点
function searchPOIs(keyword) {
    if (!keyword.trim()) {
        return getAllPOIs();
    }
    
    keyword = keyword.toLowerCase();
    return G318_ROUTE_DATA.pointsOfInterest.filter(poi => 
        poi.name.toLowerCase().includes(keyword) ||
        poi.type.toLowerCase().includes(keyword) ||
        poi.description.toLowerCase().includes(keyword)
    );
}

// 计算路线进度
function calculateProgress(visitedPOIs) {
    const totalPOIs = G318_ROUTE_DATA.pointsOfInterest.length;
    const visitedCount = visitedPOIs.length;
    return Math.round((visitedCount / totalPOIs) * 100);
} 